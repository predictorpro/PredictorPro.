<!DOCTYPE html>
<html lang="ar-DZ" class="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>PredictorPro â€“ Ø±ÙƒÙ„Ø§Øª Ø§Ù„ØªØ±Ø¬ÙŠØ­</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode: 'class' };
  </script>
  <style>
    /* Ğ¤Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ğ½ (ĞºĞ°Ğº Ğ½Ğ° main): Ğ¿ĞµÑ€ĞµĞ½Ğ¾ÑĞ¸Ğ¼ Ğ½Ğ° Ğ¿ÑĞµĞ²Ğ´Ğ¾-ÑĞ»Ğ¾Ğ¹, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğµ Â«ĞµĞ·Ğ´Ğ¸Ğ»Â» Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ĞºĞ°Ñ… */
    body.diamond-bg{
      background: none !important;
      position: relative;
    }
    body.diamond-bg::before{
      content:"";
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
      background-color:#fff;
      background-image:
        linear-gradient(to bottom, rgba(255,255,255,1) 0%, rgba(255,255,255,1) 40%, rgba(255,255,255,0.85) 50%, rgba(255,255,255,0) 65%),
        repeating-linear-gradient(45deg, rgba(22,163,74,.15) 0 12px, rgba(22,163,74,0) 12px 24px),
        repeating-linear-gradient(-45deg, rgba(22,163,74,.15) 0 12px, rgba(22,163,74,0) 12px 24px),
        linear-gradient(to bottom, #ecfdf5, #d1fae5);
      background-size: auto, 40px 40px, 40px 40px, auto;
      background-position: top left, center, center, center;
    }
    .dark body.diamond-bg::before{
      background-color:#000;
      background-image:
        linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,1) 40%, rgba(0,0,0,0.85) 50%, rgba(0,0,0,0) 65%),
        repeating-linear-gradient(45deg, rgba(22,163,74,.25) 0 12px, rgba(22,163,74,0) 12px 24px),
        repeating-linear-gradient(-45deg, rgba(22,163,74,.25) 0 12px, rgba(22,163,74,0) 12px 24px),
        linear-gradient(to bottom, #052e16, #065f46);
      background-size: auto, 40px 40px, 40px 40px, auto;
      background-position: top left, center, center, center;
    }
  </style>
</head>

<body class="min-h-screen bg-white dark:bg-black text-gray-900 dark:text-white relative diamond-bg">

  <!-- Ğ›ĞĞ“Ğ (Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ Ğ¿Ğ¾Ğ´ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ) -->
  <div class="absolute top-4 left-4 z-20">
    <a href="main.html">
      <div class="w-28 h-28 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-full border-4 border-green-700 overflow-hidden">
        <img src="images/PredictorPro.jpg" alt="PredictorPro" class="w-full h-full object-cover"/>
      </div>
    </a>
  </div>

  <!-- ĞŸĞ ĞĞ’Ğ«Ğ™ Ğ’Ğ•Ğ Ğ¥: Ñ‚ĞµĞ¼Ğ° + ÑĞ·Ñ‹Ğº (ÑÑ‚Ğ¾Ğ»Ğ±Ğ¸ĞºĞ¾Ğ¼, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğµ Ğ½Ğ°Ğ»ĞµĞ·Ğ°Ğ»Ğ¾) -->
  <div class="fixed top-4 right-4 z-30 flex flex-col items-end gap-2">
    <!-- ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ°Ñ‚ĞµĞ»ÑŒ Ñ‚ĞµĞ¼Ñ‹ (ĞºĞ°Ğº Ğ±Ñ‹Ğ»Ğ¾) -->
    <button
      id="themeToggle"
      class="w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center rounded-full bg-gray-200 dark:bg-gray-700 shadow transition-colors"
      onclick="toggleTheme()"
      aria-label="Cambiar tema"
    >ğŸŒ™</button>

    <!-- ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ°Ñ‚ĞµĞ»ÑŒ ÑĞ·Ñ‹ĞºĞ° (Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ³Ğ¾Ğ²Ğ°Ñ‚Ğ°Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ° Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑŒÑ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾ ÑĞ·Ñ‹ĞºĞ°) -->
    <div class="relative">
      <button id="langBtn"
              class="h-10 px-4 rounded-full bg-gray-200 text-gray-900 shadow ring-2 ring-green-600 text-sm font-semibold flex items-center gap-2"
              aria-haspopup="true" aria-expanded="false" aria-label="Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ©">
        <span>ğŸŒ</span><span id="langBtnLabel">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
      </button>

      <!-- ĞœĞµĞ½Ñ ÑĞ·Ñ‹ĞºĞ¾Ğ² -->
      <div id="langMenu"
           class="hidden absolute right-0 mt-2 w-18 bg-gray-800 text-white rounded-lg shadow-lg border border-green-700/60 overflow-hidden text-sm z-50">
        <button data-lang="ar" data-dir="rtl"  data-langtag="ar-DZ" class="w-full text-right px-3 py-2 hover:bg-gray-700">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
        <button data-lang="es" data-dir="ltr"  data-langtag="es-PE" class="w-full text-left  px-3 py-2 hover:bg-gray-700">EspaÃ±ol</button>
        <button data-lang="en" data-dir="ltr"  data-langtag="en"     class="w-full text-left  px-3 py-2 hover:bg-gray-700">English</button>
        <button data-lang="pl" data-dir="ltr"  data-langtag="pl"     class="w-full text-left  px-3 py-2 hover:bg-gray-700">Polski</button>
        <button data-lang="fr" data-dir="ltr"  data-langtag="fr"     class="w-full text-left  px-3 py-2 hover:bg-gray-700">FranÃ§ais</button>
      </div>
    </div>
  </div>

  <!-- ĞšĞ½Ğ¾Ğ¿ĞºĞ° FAQ (Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ĞºĞ°Ñ… ÑĞ½Ğ¸Ğ·Ñƒ ÑĞ¿Ñ€Ğ°Ğ²Ğ°, Ğ½Ğ° Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… Ğ¿Ğ¾ Ñ†ĞµĞ½Ñ‚Ñ€Ñƒ ÑĞ¿Ñ€Ğ°Ğ²Ğ°) -->
  <div
    id="faqButton"
    class="fixed right-4 bottom-4 sm:top-1/2 sm:bottom-auto sm:-translate-y-1/2
           flex items-center gap-2 p-2 bg-gray-200 dark:bg-gray-800 rounded-lg
           cursor-pointer shadow transition-colors z-20">
    <img src="images/311092c3467c45c938fd5b63ac29281a.png" alt="FAQ" class="w-8 h-8"/>
    <span id="faqBtnLabel" class="font-semibold text-gray-900 dark:text-white">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</span>
  </div>

  <!-- ĞŸĞ°Ğ½ĞµĞ»ÑŒ FAQ -->
  <div
    id="faqPanel"
    class="fixed right-4 bottom-16 sm:top-1/2 sm:bottom-auto sm:-translate-y-1/2
           w-80 max-w-[88vw] bg-gray-100 dark:bg-gray-900 rounded-lg shadow-lg p-4 hidden
           text-gray-900 dark:text-white z-20">
    <button
      id="faqClose"
      class="absolute top-2 right-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-xl leading-none"
    >&times;</button>
    <h3 id="faqTitle" class="text-lg font-semibold mb-2">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© â€“ Ø±ÙƒÙ„Ø§Øª Ø§Ù„ØªØ±Ø¬ÙŠØ­</h3>

    <h4 id="faqQ1" class="text-md font-semibold mb-1">1. ÙƒÙŠÙ ØªØ¹Ù…Ù„ Ø§Ù„Ø¥Ø´Ø§Ø±Ø©ØŸ</h4>
    <p id="faqA1" class="text-sm mb-3">
      Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Â«Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø´Ø§Ø±Ø©Â»ØŒ ÙŠÙ‚ÙˆÙ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ© Ù„ØªØ³Ø¯ÙŠØ¯Ø§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙˆØ³Ù„ÙˆÙƒ Ø§Ù„Ø­Ø§Ø±Ø³.
      Ø¨Ø¹Ø¯ Ù…Ø­Ø§ÙƒØ§Ø© Ù‚ØµÙŠØ±Ø© Ù„Ù…Ø¯Ø© 3 Ø«ÙˆØ§Ù†Ù ÙŠØ¸Ù‡Ø± ÙƒØ±Ø© ÙˆØ§Ø­Ø¯Ø© â€” ÙˆÙ‡ÙŠ Â«Ø§Ù„Ø¥Ø´Ø§Ø±Ø©Â» Ù„Ù„Ø±Ù‡Ø§Ù†.
    </p>

    <h4 id="faqQ2" class="text-md font-semibold mb-1">2. Ù…Ø§Ø°Ø§ ØªØ¹Ù†ÙŠ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø®Ù…Ø³ØŸ</h4>
    <p id="faqA2" class="text-sm mb-3">
      ÙƒÙ„ Ù†Ù‚Ø±Ø© ØªÙˆÙ„Ù‘Ø¯ Ø¥Ø´Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø© (Ø­ØªÙ‰ 5). Ø§Ù„Ø´Ø±ÙŠØ· ÙˆØ§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø®Ø¶Ø±Ø§Ø¡ ÙŠÙˆØ¶Ø­Ø§Ù† Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙ‚Ø¯Ù…
      (Ã—2ØŒ Ã—4ØŒ Ã—12ØŒ Ã—20ØŒ Ã—32). Ø¹Ù†Ø¯ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø®Ø§Ù…Ø³Ø© ØªØ¹ÙŠØ¯ Ø§Ù„Ù†Ù‚Ø±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ø§Ù„Ø¯ÙˆØ±Ø©.
    </p>

    <h4 id="faqQ3" class="text-md font-semibold mb-1">3. ÙƒÙŠÙ Ø£Ø¯ÙŠØ± Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø®Ø§Øµ Ø¨ÙŠØŸ</h4>
    <p id="faqA3" class="text-sm">
      Ù†Ù†ØµØ­ Ø¨ØªØ«Ø¨ÙŠØª Ø§Ù„Ø±Ø¨Ø­ Ø¹Ù†Ø¯ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø«Ø§Ù„Ø«Ø© Ø£Ùˆ Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©ØŒ Ø­Ø³Ø¨ Ù…Ø³ØªÙˆÙ‰ ØªÙ‚Ø¨Ù„Ùƒ Ù„Ù„Ù…Ø®Ø§Ø·Ø±Ø©.
      Ø§Ø­ØªÙØ¸ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø¨Ø®Ø·Ø© Ø®Ø±ÙˆØ¬ ÙˆØ§Ø¶Ø­Ø©.
    </p>
  </div>

  <!-- ĞĞ¡ĞĞĞ’ĞĞĞ™ ĞšĞĞĞ¢Ğ•ĞĞ¢: ÑƒĞ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ğ»Ğ¸ Ğ²ĞµÑ€Ñ…Ğ½Ğ¸Ğ¹ Ğ¾Ñ‚ÑÑ‚ÑƒĞ¿ Ğ¿Ğ¾Ğ´ Ğ»Ğ¾Ğ³Ğ¾Ñ‚Ğ¸Ğ¿/ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ĞºĞ°Ñ… -->
  <main class="flex flex-col items-center pt-44 sm:pt-32 pb-20 space-y-6 px-4">
    <!-- ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ-Ğ±Ğ°Ñ€ -->
    <div class="w-full max-w-md">
      <div class="relative mb-4">
        <div class="h-2 bg-gray-300 dark:bg-gray-700 rounded-full">
          <div id="progressFill" class="h-2 bg-green-700 rounded-full w-0 transition-all"></div>
        </div>
        <div class="absolute inset-0 flex justify-between items-center">
          <div class="flex flex-col items-center">
            <div id="dot1" class="w-3 h-3 bg-gray-300 dark:bg-gray-700 rounded-full"></div>
            <span class="text-sm mt-1">Ã—2</span>
          </div>
          <div class="flex flex-col items-center">
            <div id="dot2" class="w-3 h-3 bg-gray-300 dark:bg-gray-700 rounded-full"></div>
            <span class="text-sm mt-1">Ã—4</span>
          </div>
          <div class="flex flex-col items-center">
            <div id="dot3" class="w-3 h-3 bg-gray-300 dark:bg-gray-700 rounded-full"></div>
            <span class="text-sm mt-1">Ã—12</span>
          </div>
          <div class="flex flex-col items-center">
            <div id="dot4" class="w-3 h-3 bg-gray-300 dark:bg-gray-700 rounded-full"></div>
            <span class="text-sm mt-1">Ã—20</span>
          </div>
          <div class="flex flex-col items-center">
            <div id="dot5" class="w-3 h-3 bg-gray-300 dark:bg-gray-700 rounded-full"></div>
            <span class="text-sm mt-1">Ã—32</span>
          </div>
        </div>
      </div>
    </div>

    <!-- ĞĞºĞ½Ğ¾ Ñ ÑĞµÑ‚ĞºĞ¾Ğ¹ Ğ¼ÑÑ‡ĞµĞ¹ -->
    <div
      id="forecastWindow"
      class="relative bg-gray-100 dark:bg-gray-800 p-6 rounded-2xl shadow-lg
             border-2 border-green-700 transition-colors w-full max-w-md h-64 overflow-hidden">
      <div class="absolute inset-0 bg-no-repeat bg-center opacity-20"
           style="background-image: url('images/vecteezy_soccer-goal-illustration_45757623.png'); background-size: 110% 195%;"></div>

      <!-- ĞĞ²ĞµÑ€Ğ»ĞµĞ¹ Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ÑĞ¼Ğ¸ -->
      <div id="loadingText"
           class="absolute inset-0 z-30 flex items-center justify-center
                  bg-black bg-opacity-50 text-center px-4 text-lg font-semibold text-white
                  opacity-0 transition-opacity"></div>

      <!-- Ğ¡ĞµÑ‚ĞºĞ° (ÑƒĞ¼ĞµĞ½ÑŒÑˆĞµĞ½ gap Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ĞºĞ°Ñ…) -->
      <div id="ballsGrid"
           class="relative z-10 grid grid-cols-5 grid-rows-3 gap-8 sm:gap-8 justify-items-center items-center mt-4
                  divide-x divide-y divide-gray-300 dark:divide-gray-700">
        <!-- 15 Ğ¼ÑÑ‡ĞµĞ¹ -->
        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>
        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>
        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>
        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>
        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>

        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>
        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>
        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>
        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>
        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>

        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>
        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>
        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>
        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>
        <div class="w-8 h-8 rounded-full overflow-hidden"><img src="images/3120e1b79749213597f4fe30a60211df.png" alt="Ball" class="w-full h-full object-cover"/></div>
      </div>
    </div>

    <!-- ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ -->
    <div class="flex gap-2">
      <button id="fetchBtn"
              class="px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-2xl font-semibold transition-colors">
        Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø´Ø§Ø±Ø©
      </button>
      <button id="resetBtn"
              class="w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center shadow transition-colors"
              aria-label="Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª">
        <img src="images/7646bf17f356f37147352829310cbf50.png" alt="Reload" class="w-6 h-6"/>
      </button>
    </div>
  </main>

  <script>
    // ===== Ğ¢Ğ•ĞœĞĞĞ¯ Ğ¢Ğ•ĞœĞ (Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸) =====
    function toggleTheme() {
      document.documentElement.classList.toggle('dark');
      themeToggle.textContent =
        document.documentElement.classList.contains('dark') ? 'ğŸŒ' : 'ğŸŒ™';
    }
    document.documentElement.classList.add('dark');

    // ===== I18N ÑĞ»Ğ¾Ğ²Ğ°Ñ€ÑŒ Ğ´Ğ»Ñ penalty =====
    const I18N = {
      ar: {
        langName: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', langTag: 'ar-DZ', dir: 'ltr',
        title: 'PredictorPro â€“ Ø±ÙƒÙ„Ø§Øª Ø§Ù„ØªØ±Ø¬ÙŠØ­',
        faqBtn: 'Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©',
        faqTitle: 'Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© â€“ Ø±ÙƒÙ„Ø§Øª Ø§Ù„ØªØ±Ø¬ÙŠØ­',
        q1: '1. ÙƒÙŠÙ ØªØ¹Ù…Ù„ Ø§Ù„Ø¥Ø´Ø§Ø±Ø©ØŸ',
        a1: 'Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Â«Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø´Ø§Ø±Ø©Â»ØŒ ÙŠÙ‚ÙˆÙ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ© Ù„ØªØ³Ø¯ÙŠØ¯Ø§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙˆØ³Ù„ÙˆÙƒ Ø§Ù„Ø­Ø§Ø±Ø³. Ø¨Ø¹Ø¯ Ù…Ø­Ø§ÙƒØ§Ø© Ù‚ØµÙŠØ±Ø© Ù„Ù…Ø¯Ø© 3 Ø«ÙˆØ§Ù†Ù ÙŠØ¸Ù‡Ø± ÙƒØ±Ø© ÙˆØ§Ø­Ø¯Ø© â€” ÙˆÙ‡ÙŠ Â«Ø§Ù„Ø¥Ø´Ø§Ø±Ø©Â» Ù„Ù„Ø±Ù‡Ø§Ù†.',
        q2: '2. Ù…Ø§Ø°Ø§ ØªØ¹Ù†ÙŠ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø®Ù…Ø³ØŸ',
        a2: 'ÙƒÙ„ Ù†Ù‚Ø±Ø© ØªÙˆÙ„Ù‘Ø¯ Ø¥Ø´Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø© (Ø­ØªÙ‰ 5). Ø§Ù„Ø´Ø±ÙŠØ· ÙˆØ§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø®Ø¶Ø±Ø§Ø¡ ÙŠÙˆØ¶Ø­Ø§Ù† Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙ‚Ø¯Ù… (Ã—2ØŒ Ã—4ØŒ Ã—12ØŒ Ã—20ØŒ Ã—32). Ø¹Ù†Ø¯ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø®Ø§Ù…Ø³Ø© ØªØ¹ÙŠØ¯ Ø§Ù„Ù†Ù‚Ø±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ø§Ù„Ø¯ÙˆØ±Ø©.',
        q3: '3. ÙƒÙŠÙ Ø£Ø¯ÙŠØ± Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø®Ø§Øµ Ø¨ÙŠØŸ',
        a3: 'Ù†Ù†ØµØ­ Ø¨ØªØ«Ø¨ÙŠØª Ø§Ù„Ø±Ø¨Ø­ Ø¹Ù†Ø¯ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø«Ø§Ù„Ø«Ø© Ø£Ùˆ Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©ØŒ Ø­Ø³Ø¨ Ù…Ø³ØªÙˆÙ‰ ØªÙ‚Ø¨Ù„Ùƒ Ù„Ù„Ù…Ø®Ø§Ø·Ø±Ø©. Ø§Ø­ØªÙØ¸ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø¨Ø®Ø·Ø© Ø®Ø±ÙˆØ¬ ÙˆØ§Ø¶Ø­Ø©.',
        fetch: 'Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø´Ø§Ø±Ø©',
        getNew: 'Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø´Ø§Ø±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©ØŸ',
        resetAria: 'Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª',
        msgRound: 'Ø§Ù†ØªØ¸Ø±ØŒ Ø¬Ø§Ø±Ù Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©',
        msgReset: 'Ø§Ù†ØªØ¸Ø±ØŒ Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ø¶ÙŠØ± Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©',
        ariaLang: 'Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ©'
      },
      es: {
        langName: 'EspaÃ±ol', langTag: 'es-PE', dir: 'ltr',
        title: 'PredictorPro â€“ Penalti',
        faqBtn: 'Preguntas frecuentes',
        faqTitle: 'Preguntas frecuentes â€“ Penalti',
        q1: '1. Â¿CÃ³mo funciona la predicciÃ³n?',
        a1: 'Al pulsar â€œObtener seÃ±alâ€, el sistema analiza datos histÃ³ricos de lanzamientos y comportamiento del portero. Tras una breve simulaciÃ³n de 3 segundos, aparece un solo balÃ³n â€” ese es tu â€œseÃ±alâ€ para apostar.',
        q2: '2. Â¿QuÃ© representan las cinco etapas?',
        a2: 'Cada clic genera una nueva seÃ±al (hasta 5). La barra y los puntos verdes indican el nivel de avance (Ã—2, Ã—4, Ã—12, Ã—20, Ã—32). Al llegar al quinto, la siguiente pulsaciÃ³n reinicia el ciclo.',
        q3: '3. Â¿CÃ³mo gestionar tu banca?',
        a3: 'Recomendamos fijar tu beneficio cuando alcances el tercer o cuarto paso, segÃºn tu tolerancia al riesgo. MantÃ©n siempre un plan de salida claro.',
        fetch: 'Obtener seÃ±al',
        getNew: 'Â¿Obtener nuevas seÃ±ales?',
        resetAria: 'Reiniciar seÃ±ales',
        msgRound: 'Espere, obteniendo datos para la siguiente ronda',
        msgReset: 'Espere, preparando base para nuevas seÃ±ales',
        ariaLang: 'Seleccionar idioma'
      },
      en: {
        langName: 'English', langTag: 'en', dir: 'ltr',
        title: 'PredictorPro â€“ Penalty',
        faqBtn: 'FAQ',
        faqTitle: 'FAQ â€“ Penalty',
        q1: '1. How does the signal work?',
        a1: 'When you press â€œGet signalâ€, the system analyzes historical kicks and goalkeeper behavior. After a short 3-second simulation, a single ball appears â€” that is your betting â€œsignalâ€.',
        q2: '2. What are the five stages?',
        a2: 'Each click generates a new signal (up to 5). The bar and green dots indicate progress (Ã—2, Ã—4, Ã—12, Ã—20, Ã—32). Upon reaching the fifth, the next click restarts the cycle.',
        q3: '3. How to manage your bankroll?',
        a3: 'We recommend locking profit on the 3rd or 4th step depending on your risk tolerance. Always keep a clear exit plan.',
        fetch: 'Get signal',
        getNew: 'Get new signals?',
        resetAria: 'Reset signals',
        msgRound: 'Please wait, fetching data for the next round',
        msgReset: 'Please wait, preparing base for new signals',
        ariaLang: 'Select language'
      },
      pl: {
        langName: 'Polski', langTag: 'pl', dir: 'ltr',
        title: 'PredictorPro â€“ Rzuty karne',
        faqBtn: 'FAQ',
        faqTitle: 'FAQ â€“ Rzuty karne',
        q1: '1. Jak dziaÅ‚a sygnaÅ‚?',
        a1: 'Po klikniÄ™ciu â€Pobierz sygnaÅ‚â€ system analizuje historyczne strzaÅ‚y oraz zachowanie bramkarza. Po krÃ³tkiej, 3-sekundowej symulacji pojawia siÄ™ jedna piÅ‚ka â€” to TwÃ³j â€sygnaÅ‚â€ do obstawienia.',
        q2: '2. Co oznacza piÄ™Ä‡ etapÃ³w?',
        a2: 'KaÅ¼de klikniÄ™cie generuje nowy sygnaÅ‚ (do 5). Pasek i zielone kropki pokazujÄ… postÄ™p (Ã—2, Ã—4, Ã—12, Ã—20, Ã—32). Po piÄ…tym etapie kolejne klikniÄ™cie resetuje cykl.',
        q3: '3. Jak zarzÄ…dzaÄ‡ bankrollem?',
        a3: 'Zalecamy zabezpieczaÄ‡ zysk na 3. lub 4. kroku, zaleÅ¼nie od tolerancji ryzyka. Zawsze miej jasny plan wyjÅ›cia.',
        fetch: 'Pobierz sygnaÅ‚',
        getNew: 'PobraÄ‡ nowe sygnaÅ‚y?',
        resetAria: 'Zresetuj sygnaÅ‚y',
        msgRound: 'ProszÄ™ czekaÄ‡, pobieramy dane do nastÄ™pnej rundy',
        msgReset: 'ProszÄ™ czekaÄ‡, przygotowujemy bazÄ™ do nowych sygnaÅ‚Ã³w',
        ariaLang: 'Wybierz jÄ™zyk'
      },
      fr: {
        langName: 'FranÃ§ais', langTag: 'fr', dir: 'ltr',
        title: 'PredictorPro â€“ Penalty',
        faqBtn: 'FAQ',
        faqTitle: 'FAQ â€“ Penalty',
        q1: '1. Comment fonctionne le signal ?',
        a1: 'En appuyant sur Â« Obtenir le signal Â», le systÃ¨me analyse les tirs historiques et le comportement du gardien. AprÃ¨s une courte simulation de 3 secondes, un seul ballon apparaÃ®t â€” câ€™est votre Â« signal Â» pour miser.',
        q2: '2. Que reprÃ©sentent les cinq Ã©tapes ?',
        a2: 'Chaque clic gÃ©nÃ¨re un nouveau signal (jusquâ€™Ã  5). La barre et les points verts indiquent la progression (Ã—2, Ã—4, Ã—12, Ã—20, Ã—32). Ã€ la cinquiÃ¨me, le clic suivant relance le cycle.',
        q3: '3. Comment gÃ©rer votre bankroll ?',
        a3: 'Nous recommandons de sÃ©curiser le profit Ã  la 3e ou 4e Ã©tape selon votre tolÃ©rance au risque. Gardez toujours un plan de sortie clair.',
        fetch: 'Obtenir le signal',
        getNew: 'Obtenir de nouveaux signaux ?',
        resetAria: 'RÃ©initialiser les signaux',
        msgRound: 'Veuillez patienter, rÃ©cupÃ©ration des donnÃ©es pour la prochaine manche',
        msgReset: 'Veuillez patienter, prÃ©paration de la base pour de nouveaux signaux',
        ariaLang: 'Choisir la langue'
      }
    };

    // ===== Ğ¡Ğ¡Ğ«Ğ›ĞšĞ˜ ĞĞ Ğ­Ğ›Ğ•ĞœĞ•ĞĞ¢Ğ« Ğ”Ğ›Ğ¯ ĞŸĞ•Ğ Ğ•Ğ’ĞĞ”Ğ =====
    const htmlEl   = document.documentElement;
    const titleEl  = document.getElementsByTagName('title')[0];
    const langBtn  = document.getElementById('langBtn');
    const langLbl  = document.getElementById('langBtnLabel');
    const langMenu = document.getElementById('langMenu');

    const faqBtnEl   = document.getElementById('faqButton');
    const faqBtnLbl  = document.getElementById('faqBtnLabel');
    const faqTitleEl = document.getElementById('faqTitle');
    const faqQ1 = document.getElementById('faqQ1'), faqA1 = document.getElementById('faqA1');
    const faqQ2 = document.getElementById('faqQ2'), faqA2 = document.getElementById('faqA2');
    const faqQ3 = document.getElementById('faqQ3'), faqA3 = document.getElementById('faqA3');

    const fetchBtn  = document.getElementById('fetchBtn');
    const resetBtn  = document.getElementById('resetBtn');
    const loadingText  = document.getElementById('loadingText');

    // Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ (Ğ¼ĞµĞ½ÑÑÑ‚ÑÑ Ğ¿Ñ€Ğ¸ ÑĞ¼ĞµĞ½Ğµ ÑĞ·Ñ‹ĞºĞ°)
    let MSG_ROUND = I18N.ar.msgRound;
    let MSG_RESET = I18N.ar.msgReset;

    // ===== ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ ÑĞ·Ñ‹ĞºĞ° =====
    function applyLang(code){
      const d = I18N[code] || I18N.ar;

      // lang/dir Ğ¸ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº
      htmlEl.lang = d.langTag;
      htmlEl.dir  = d.dir;
      if (titleEl) titleEl.textContent = d.title;

      // ĞšĞ½Ğ¾Ğ¿ĞºĞ° ÑĞ·Ñ‹ĞºĞ°
      langLbl.textContent = d.langName;
      langBtn.setAttribute('aria-label', d.ariaLang);

      // FAQ
      faqBtnLbl.textContent = d.faqBtn;
      faqTitleEl.textContent = d.faqTitle;
      faqQ1.textContent = d.q1; faqA1.textContent = d.a1;
      faqQ2.textContent = d.q2; faqA2.textContent = d.a2;
      faqQ3.textContent = d.q3; faqA3.textContent = d.a3;

      // ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ¸ aria
      fetchBtn.textContent = d.fetch;
      resetBtn.setAttribute('aria-label', d.resetAria);

      // Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
      MSG_ROUND = d.msgRound;
      MSG_RESET = d.msgReset;

      // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ²Ñ‹Ğ±Ğ¾Ñ€
      try { localStorage.setItem('preferredLang', code); } catch(e){}
    }

    // ===== ĞœĞµĞ½Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° ÑĞ·Ñ‹ĞºĞ° =====
    langBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      const isOpen = !langMenu.classList.contains('hidden');
      langMenu.classList.toggle('hidden', isOpen);
      langBtn.setAttribute('aria-expanded', String(!isOpen));
    });
    document.addEventListener('click', () => {
      if (!langMenu.classList.contains('hidden')) {
        langMenu.classList.add('hidden');
        langBtn.setAttribute('aria-expanded','false');
      }
    });
    langMenu.querySelectorAll('button[data-lang]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const code = btn.getAttribute('data-lang') || 'ar';
        applyLang(code);
        langMenu.classList.add('hidden');
        langBtn.setAttribute('aria-expanded','false');
      });
    });

    // ==== FAQ show/hide (ĞºĞ°Ğº Ğ±Ñ‹Ğ»Ğ¾) ====
    const faqPanel = document.getElementById('faqPanel');
    const faqClose = document.getElementById('faqClose');
    faqBtnEl.addEventListener('click', () => faqPanel.classList.toggle('hidden'));
    faqClose.addEventListener('click', () => faqPanel.classList.toggle('hidden'));

    // ===== Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ·Ñ‹ĞºĞ°: Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ Ğ°Ñ€Ğ°Ğ±ÑĞºĞ¸Ğ¹, Ğ½Ğ¾ ÑƒÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ñ‘Ğ½Ğ½Ñ‹Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€ =====
    (function initLang(){
      let code = 'ar';
      try {
        const saved = localStorage.getItem('preferredLang');
        if (saved && I18N[saved]) code = saved;
      } catch(e){}
      applyLang(code);
    })();

    // ====== Ğ›ĞĞ“Ğ˜ĞšĞ Ğ˜Ğ“Ğ Ğ« (ĞĞ• Ğ¼ĞµĞ½ÑĞ»Ğ°ÑÑŒ; Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ‚ĞµĞºÑÑ‚Ñ‹ Ğ¿Ğ¾Ğ´ÑÑ‚Ğ°Ğ²Ğ»ÑÑÑ‚ÑÑ Ğ¸Ğ· Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾ ÑĞ·Ñ‹ĞºĞ°) ======
    const progressFill = document.getElementById('progressFill');
    const balls  = Array.from(document.querySelectorAll('#ballsGrid > div'));
    const MAX_STEPS = 5;
    let step = 0;

    fetchBtn.addEventListener('click', runStep);
    resetBtn.addEventListener('click', () => resetCycle());

    function runStep() {
      if (step < MAX_STEPS) {
        balls.forEach(b => b.classList.remove('invisible'));
        loadingText.textContent = MSG_ROUND;
        loadingText.classList.add('opacity-100');
        fetchBtn.disabled = true;
        fetchBtn.classList.add('opacity-50','cursor-not-allowed');

        setTimeout(() => {
          loadingText.classList.remove('opacity-100');
          const winner = Math.floor(Math.random() * balls.length);
          balls.forEach((b,i) => { if (i !== winner) b.classList.add('invisible'); });

          step++;
          const dot = document.getElementById(`dot${step}`);
          dot.classList.remove('bg-gray-300','dark:bg-gray-700');
          dot.classList.add('bg-green-700');
          if (step > 1) {
            const pct = ((step - 1)/(MAX_STEPS-1))*100;
            progressFill.style.width = `${pct}%`;
          }
          if (step === MAX_STEPS) {
            // Ğ»Ğ¾ĞºĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑŒ Â«Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹?Â»
            const code = (localStorage.getItem('preferredLang') && I18N[localStorage.getItem('preferredLang')]) ? localStorage.getItem('preferredLang') : 'ar';
            fetchBtn.textContent = I18N[code].getNew;
          }

          fetchBtn.disabled = false;
          fetchBtn.classList.remove('opacity-50','cursor-not-allowed');
        }, 3000);

      } else {
        resetCycle(true);
      }
    }

    function resetCycle(fromButton = false) {
      loadingText.textContent = MSG_RESET;
      loadingText.classList.add('opacity-100');
      fetchBtn.disabled = true;
      fetchBtn.classList.add('opacity-50','cursor-not-allowed');
      resetBtn.disabled = true;
      resetBtn.classList.add('opacity-50','cursor-not-allowed');

      setTimeout(() => {
        loadingText.classList.remove('opacity-100');
        step = 0;
        progressFill.style.width = '0%';
        for (let i = 1; i <= MAX_STEPS; i++) {
          const resetDot = document.getElementById(`dot${i}`);
          resetDot.classList.remove('bg-green-700');
          resetDot.classList.add('bg-gray-300','dark:bg-gray-700');
        }
        balls.forEach(b => b.classList.remove('invisible'));

        // Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ Ğ»Ğ¾ĞºĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½ÑƒÑ Ğ½Ğ°Ğ´Ğ¿Ğ¸ÑÑŒ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ĞºĞ½Ğ¾Ğ¿ĞºĞµ
        const code = (localStorage.getItem('preferredLang') && I18N[localStorage.getItem('preferredLang')]) ? localStorage.getItem('preferredLang') : 'ar';
        fetchBtn.textContent = I18N[code].fetch;

        fetchBtn.disabled = false;
        fetchBtn.classList.remove('opacity-50','cursor-not-allowed');
        resetBtn.disabled = false;
        resetBtn.classList.remove('opacity-50','cursor-not-allowed');
      }, 3000);
    }
  </script>
</body>
</html>

